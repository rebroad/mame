#include "cpu_6809.h"

namespace StarWars {

void routine_bd21_impl(CPU6809& cpu) {
    // Converted from rom_disasm_bd21.md
    // Address: 0xBD21

    // BD21: LDA #$09
    cpu.m_a = 0x09;

    // BD23: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BD26: LDA #$0A
    cpu.m_a = 0x0A;

    // BD28: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BD2B: LDA #$0B
    cpu.m_a = 0x0B;

    // BD2D: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BD30: LDA #$0C
    cpu.m_a = 0x0C;

    // BD32: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BD35: LDA #$0D
    cpu.m_a = 0x0D;

    // BD37: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BD3A: LDA #$0E
    cpu.m_a = 0x0E;

    // BD3C: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BD3F: LDA #$0F
    cpu.m_a = 0x0F;

    // BD41: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BD44: LDA #$10
    cpu.m_a = 0x10;

    // BD46: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BD49: LDA #$11
    cpu.m_a = 0x11;

    // BD4B: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BD4E: LDA #$12
    cpu.m_a = 0x12;

    // BD50: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BD53: LDA #$13
    cpu.m_a = 0x13;

    // BD55: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BD58: LDA #$14
    cpu.m_a = 0x14;

    // BD5A: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BD5D: LDA #$15
    cpu.m_a = 0x15;

    // BD5F: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BD62: LDA #$16
    cpu.m_a = 0x16;

    // BD64: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BD67: LDA #$17
    cpu.m_a = 0x17;

    // BD69: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BD6C: LDA #$18
    cpu.m_a = 0x18;

    // BD6E: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BD71: LDA #$19
    cpu.m_a = 0x19;

    // BD73: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BD76: LDA #$1A
    cpu.m_a = 0x1A;

    // BD78: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BD7B: LDA #$1B
    cpu.m_a = 0x1B;

    // BD7D: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BD80: LDA #$1C
    cpu.m_a = 0x1C;

    // BD82: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BD85: LDA #$1D
    cpu.m_a = 0x1D;

    // BD87: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BD8A: LDA #$1E
    cpu.m_a = 0x1E;

    // BD8C: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BD8F: LDA #$1F
    cpu.m_a = 0x1F;

    // BD91: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BD94: LDA #$20
    cpu.m_a = 0x20;

    // BD96: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BD99: LDA #$21
    cpu.m_a = 0x21;

    // BD9B: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BD9E: LDA #$22
    cpu.m_a = 0x22;

    // BDA0: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BDA3: LDA #$23
    cpu.m_a = 0x23;

    // BDA5: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BDA8: LDA #$24
    cpu.m_a = 0x24;

    // BDAA: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BDAD: LDA #$25
    cpu.m_a = 0x25;

    // BDAF: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BDB2: LDA #$26
    cpu.m_a = 0x26;

    // BDB4: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BDB7: LDA #$27
    cpu.m_a = 0x27;

    // BDB9: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BDBC: LDA #$28
    cpu.m_a = 0x28;

    // BDBE: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BDC1: LDA #$29
    cpu.m_a = 0x29;

    // BDC3: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BDC6: LDA #$2A
    cpu.m_a = 0x2A;

    // BDC8: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BDCB: LDA #$2B
    cpu.m_a = 0x2B;

    // BDCD: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BDD0: LDA #$2C
    cpu.m_a = 0x2C;

    // BDD2: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BDD5: LDA #$2D
    cpu.m_a = 0x2D;

    // BDD7: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BDDA: LDA #$2E
    cpu.m_a = 0x2E;

    // BDDC: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BDDF: LDA #$2F
    cpu.m_a = 0x2F;

    // BDE1: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BDE4: LDA #$30
    cpu.m_a = 0x30;

    // BDE6: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BDE9: LDA #$31
    cpu.m_a = 0x31;

    // BDEB: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BDEE: LDA #$32
    cpu.m_a = 0x32;

    // BDF0: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BDF3: LDA #$33
    cpu.m_a = 0x33;

    // BDF5: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BDF8: LDA #$34
    cpu.m_a = 0x34;

    // BDFA: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BDFD: LDA #$35
    cpu.m_a = 0x35;

    // BDFF: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BE02: LDA #$36
    cpu.m_a = 0x36;

    // BE04: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BE07: LDA #$37
    cpu.m_a = 0x37;

    // BE09: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BE0C: LDA #$38
    cpu.m_a = 0x38;

    // BE0E: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BE11: LDA #$39
    cpu.m_a = 0x39;

    // BE13: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BE16: LDA #$3A
    cpu.m_a = 0x3A;

    // BE18: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BE1B: LDA #$3B
    cpu.m_a = 0x3B;

    // BE1D: JMP $BCE9
    cpu.m_pc = 0xBCE9;

    // BE20: LDA #$59
    cpu.m_a = 0x59;

    // BE22: JSR $D8DF
    cpu.call_function(0xD8DF);

    // BE26: CMPA #$65
    cpu.compare_a(0x65);

    // BE28: BCS $BE22
    if (cpu.carry_flag()) cpu.m_pc = 0xBE22;

    // BE2A: LDA #$D3
    cpu.m_a = 0xD3;

    // BE2C: JSR $D8DF
    cpu.call_function(0xD8DF);

    // BE2F: LDD #$6480
    cpu.m_d = 0x6480;

    // BE32: STD ,Y++
    cpu.write_memory16(cpu.m_y++, cpu.m_d);

    // BE34: LDX #$453C
    cpu.m_x = 0x453C;

    // BE37: LDU #$C7BB
    cpu.m_u = 0xC7BB;

    // BE3A: LDD ,U++
    cpu.m_d = cpu.read_memory16(cpu.m_u++);

    // BE3C: STD ,Y++
    cpu.write_memory16(cpu.m_y++, cpu.m_d);

    // BE3E: LDD #$0030
    cpu.m_d = 0x0030;

    // BE41: STD ,Y++
    cpu.write_memory16(cpu.m_y++, cpu.m_d);

    // BE43: STU $4AFA
    cpu.write_memory16(0x4AFA, cpu.m_u);

    // BE46: LDB #$05
    cpu.m_b = 0x05;

    // BE48: STB <$AD
    cpu.write_memory(0xAD, cpu.m_b);

    // BE4A: LDB #$05
    cpu.m_b = 0x05;

    // BE4C: LDA ,X+
    // TODO: Complex indexed addressing: ,X+

    // BE4E: JSR $E7AD
    cpu.call_function(0xE7AD);

    // BE52: BPL $BE4C
    if (!cpu.negative_flag()) cpu.m_pc = 0xBE4C;

    // BE54: LDD #$8040
    cpu.m_d = 0x8040;

    // BE57: STD ,Y++
    cpu.write_memory16(cpu.m_y++, cpu.m_d);

    // BE59: LDU $4AFA
    cpu.m_u = cpu.read_memory16(0x4AFA);

    // BE5C: CMPX #$4554
    cpu.compare_x(0x4554);

    // BE5F: BCS $BE3A
    if (cpu.carry_flag()) cpu.m_pc = 0xBE3A;

    // BE61: LDD $C7C1
    cpu.m_d = cpu.read_memory16(0xC7C1);

    // BE64: STD ,Y++
    cpu.write_memory16(cpu.m_y++, cpu.m_d);

    // BE66: LDD #$013C
    cpu.m_d = 0x013C;

    // BE69: STD ,Y++
    cpu.write_memory16(cpu.m_y++, cpu.m_d);

    // BE6B: LDA #$01
    cpu.m_a = 0x01;

    // BE6D: STA <$AD
    cpu.write_memory(0xAD, cpu.m_a);

    // BE6F: LDA $4588
    cpu.m_a = cpu.read_memory(0x4588);

    // BE72: JSR $E7AD
    cpu.call_function(0xE7AD);

    // BE75: LDA $4589
    cpu.m_a = cpu.read_memory(0x4589);

    // BE78: JSR $E7AD
    cpu.call_function(0xE7AD);

    // BE7B: LDD #$8040
    cpu.m_d = 0x8040;

    // BE7E: STD ,Y++
    cpu.write_memory16(cpu.m_y++, cpu.m_d);

    // BE80: LDX #$4548
    cpu.m_x = 0x4548;

    // BE83: JSR $C6D4
    cpu.call_function(0xC6D4);

    // BE86: LDU #$4AFE
    cpu.m_u = 0x4AFE;

    // BE89: LDX #$4542
    cpu.m_x = 0x4542;

    // BE8C: JSR $C6D7
    cpu.call_function(0xC6D7);

    // BE8F: LDA $4AFC
    cpu.m_a = cpu.read_memory(0x4AFC);

    // BE92: ADDA $4B00
    cpu.m_a += 0x4B00;

    // BE96: STA $4AFC
    cpu.write_memory(0x4AFC, cpu.m_a);

    // BE99: LDA $4AFB
    cpu.m_a = cpu.read_memory(0x4AFB);

    // BE9C: ADCA $4AFF
    // TODO: Convert ADCA $4AFF

    // BEA0: STA $4AFB
    cpu.write_memory(0x4AFB, cpu.m_a);

    // BEA3: LDA $4AFA
    cpu.m_a = cpu.read_memory(0x4AFA);

    // BEA6: ADCA $4AFE
    // TODO: Convert ADCA $4AFE

    // BEAA: STA $4AFA
    cpu.write_memory(0x4AFA, cpu.m_a);

    // BEAD: LDD $C7C3
    cpu.m_d = cpu.read_memory16(0xC7C3);

    // BEB0: STD ,Y++
    cpu.write_memory16(cpu.m_y++, cpu.m_d);

    // BEB2: LDD #$0030
    cpu.m_d = 0x0030;

    // BEB5: STD ,Y++
    cpu.write_memory16(cpu.m_y++, cpu.m_d);

    // BEB7: LDB #$05
    cpu.m_b = 0x05;

    // BEB9: STB <$AD
    cpu.write_memory(0xAD, cpu.m_b);

    // BEBB: LDA $4AFA
    cpu.m_a = cpu.read_memory(0x4AFA);

    // BEBE: JSR $E790
    cpu.call_function(0xE790);

    // BEC1: LDA $4AFB
    cpu.m_a = cpu.read_memory(0x4AFB);

    // BEC4: JSR $E790
    cpu.call_function(0xE790);

    // BEC7: LDA $4AFC
    cpu.m_a = cpu.read_memory(0x4AFC);

    // BECA: JSR $E790
    cpu.call_function(0xE790);

    // BECD: LDD #$8040
    cpu.m_d = 0x8040;

    // BED0: STD ,Y++
    cpu.write_memory16(cpu.m_y++, cpu.m_d);

    // BED2: LDX #$4554
    cpu.m_x = 0x4554;

    // BED5: JSR $C6D4
    cpu.call_function(0xC6D4);

    // BED8: JSR $C087
    cpu.call_function(0xC087);

    // BEDB: LDD $C7C9
    cpu.m_d = cpu.read_memory16(0xC7C9);

    // BEDE: STD ,Y++
    cpu.write_memory16(cpu.m_y++, cpu.m_d);

    // BEE0: LDD #$0030
    cpu.m_d = 0x0030;

    // BEE3: STD ,Y++
    cpu.write_memory16(cpu.m_y++, cpu.m_d);

    // BEE5: LDB #$07
    cpu.m_b = 0x07;

    // BEE7: STB <$AD
    cpu.write_memory(0xAD, cpu.m_b);

    // BEE9: LDA $4AFA
    cpu.m_a = cpu.read_memory(0x4AFA);

    // BEEC: JSR $E790
    cpu.call_function(0xE790);

    // BEEF: LDA $4AFB
    cpu.m_a = cpu.read_memory(0x4AFB);

    // BEF2: JSR $E790
    cpu.call_function(0xE790);

    // BEF5: LDA $4AFC
    cpu.m_a = cpu.read_memory(0x4AFC);

    // BEF8: JSR $E790
    cpu.call_function(0xE790);

    // BEFB: LDA $4AFD
    cpu.m_a = cpu.read_memory(0x4AFD);

    // BEFE: JSR $E790
    cpu.call_function(0xE790);

    // BF01: LDD #$8040
    cpu.m_d = 0x8040;

    // BF04: STD ,Y++
    cpu.write_memory16(cpu.m_y++, cpu.m_d);

    // BF06: LDX #$455C
    cpu.m_x = 0x455C;

    // BF09: JSR $C6D4
    cpu.call_function(0xC6D4);

    // BF0C: JSR $C087
    cpu.call_function(0xC087);

    // BF0F: LDD $C7CB
    cpu.m_d = cpu.read_memory16(0xC7CB);

    // BF12: STD ,Y++
    cpu.write_memory16(cpu.m_y++, cpu.m_d);

    // BF14: LDD #$0030
    cpu.m_d = 0x0030;

    // BF17: STD ,Y++
    cpu.write_memory16(cpu.m_y++, cpu.m_d);

    // BF19: LDB #$07
    cpu.m_b = 0x07;

    // BF1B: STB <$AD
    cpu.write_memory(0xAD, cpu.m_b);

    // BF1D: LDA $4AFA
    cpu.m_a = cpu.read_memory(0x4AFA);

    // BF20: JSR >$0000
    cpu.call_function(0x0000);

}

} // namespace StarWars