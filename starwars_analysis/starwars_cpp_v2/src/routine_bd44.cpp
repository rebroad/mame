#include "cpu_6809.h"

namespace StarWars {

void routine_bd44_impl(StarWarsCPU& cpu) {
    // Converted from rom_disasm_bd44.md
    // Address: 0xBD44

    // BD44: LDA #$10
    cpu.state_.a = 0x10;

    // BD46: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BD49: LDA #$11
    cpu.state_.a = 0x11;

    // BD4B: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BD4E: LDA #$12
    cpu.state_.a = 0x12;

    // BD50: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BD53: LDA #$13
    cpu.state_.a = 0x13;

    // BD55: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BD58: LDA #$14
    cpu.state_.a = 0x14;

    // BD5A: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BD5D: LDA #$15
    cpu.state_.a = 0x15;

    // BD5F: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BD62: LDA #$16
    cpu.state_.a = 0x16;

    // BD64: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BD67: LDA #$17
    cpu.state_.a = 0x17;

    // BD69: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BD6C: LDA #$18
    cpu.state_.a = 0x18;

    // BD6E: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BD71: LDA #$19
    cpu.state_.a = 0x19;

    // BD73: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BD76: LDA #$1A
    cpu.state_.a = 0x1A;

    // BD78: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BD7B: LDA #$1B
    cpu.state_.a = 0x1B;

    // BD7D: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BD80: LDA #$1C
    cpu.state_.a = 0x1C;

    // BD82: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BD85: LDA #$1D
    cpu.state_.a = 0x1D;

    // BD87: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BD8A: LDA #$1E
    cpu.state_.a = 0x1E;

    // BD8C: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BD8F: LDA #$1F
    cpu.state_.a = 0x1F;

    // BD91: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BD94: LDA #$20
    cpu.state_.a = 0x20;

    // BD96: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BD99: LDA #$21
    cpu.state_.a = 0x21;

    // BD9B: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BD9E: LDA #$22
    cpu.state_.a = 0x22;

    // BDA0: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BDA3: LDA #$23
    cpu.state_.a = 0x23;

    // BDA5: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BDA8: LDA #$24
    cpu.state_.a = 0x24;

    // BDAA: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BDAD: LDA #$25
    cpu.state_.a = 0x25;

    // BDAF: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BDB2: LDA #$26
    cpu.state_.a = 0x26;

    // BDB4: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BDB7: LDA #$27
    cpu.state_.a = 0x27;

    // BDB9: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BDBC: LDA #$28
    cpu.state_.a = 0x28;

    // BDBE: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BDC1: LDA #$29
    cpu.state_.a = 0x29;

    // BDC3: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BDC6: LDA #$2A
    cpu.state_.a = 0x2A;

    // BDC8: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BDCB: LDA #$2B
    cpu.state_.a = 0x2B;

    // BDCD: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BDD0: LDA #$2C
    cpu.state_.a = 0x2C;

    // BDD2: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BDD5: LDA #$2D
    cpu.state_.a = 0x2D;

    // BDD7: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BDDA: LDA #$2E
    cpu.state_.a = 0x2E;

    // BDDC: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BDDF: LDA #$2F
    cpu.state_.a = 0x2F;

    // BDE1: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BDE4: LDA #$30
    cpu.state_.a = 0x30;

    // BDE6: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BDE9: LDA #$31
    cpu.state_.a = 0x31;

    // BDEB: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BDEE: LDA #$32
    cpu.state_.a = 0x32;

    // BDF0: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BDF3: LDA #$33
    cpu.state_.a = 0x33;

    // BDF5: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BDF8: LDA #$34
    cpu.state_.a = 0x34;

    // BDFA: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BDFD: LDA #$35
    cpu.state_.a = 0x35;

    // BDFF: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BE02: LDA #$36
    cpu.state_.a = 0x36;

    // BE04: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BE07: LDA #$37
    cpu.state_.a = 0x37;

    // BE09: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BE0C: LDA #$38
    cpu.state_.a = 0x38;

    // BE0E: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BE11: LDA #$39
    cpu.state_.a = 0x39;

    // BE13: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BE16: LDA #$3A
    cpu.state_.a = 0x3A;

    // BE18: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BE1B: LDA #$3B
    cpu.state_.a = 0x3B;

    // BE1D: JMP $BCE9
    cpu.state_.pc = 0xBCE9;

    // BE20: LDA #$59
    cpu.state_.a = 0x59;

    // BE22: JSR $D8DF
    cpu.call_function(0xD8DF);

    // BE26: CMPA #$65
    cpu.compare_a(0x65);

    // BE28: BCS $00DE
    if (cpu.carry_flag()) cpu.state_.pc = 0xBE08;

    // BE2A: LDA #$D3
    cpu.state_.a = 0xD3;

    // BE2C: JSR $D8DF
    cpu.call_function(0xD8DF);

    // BE2F: LDD #$6480
    cpu.state_.d = 0x6480;

    // BE32: STD ,Y++
    cpu.write_memory(cpu.state_.y++, cpu.state_.d);

    // BE34: LDX #$453C
    cpu.state_.x = 0x453C;

    // BE37: LDU #$C7BB
    cpu.state_.u = 0xC7BB;

    // BE3A: LDD ,U++
    cpu.state_.d = cpu.read_memory_word(cpu.state_.u++);

    // BE3C: STD ,Y++
    cpu.write_memory(cpu.state_.y++, cpu.state_.d);

    // BE3E: LDD #$0030
    cpu.state_.d = 0x0030;

    // BE41: STD ,Y++
    cpu.write_memory(cpu.state_.y++, cpu.state_.d);

    // BE43: STU $4AFA
    cpu.write_memory(0x4AFA, cpu.state_.u);

    // BE46: LDB #$05
    cpu.state_.b = 0x05;

    // BE48: STB <$AD
    cpu.write_memory(0xAD, cpu.state_.b);

    // BE4A: LDB #$05
    cpu.state_.b = 0x05;

    // BE4C: LDA ,X+
    // TODO: Complex indexed addressing: ,X+

    // BE4E: JSR $E7AD
    cpu.call_function(0xE7AD);

    // BE52: BPL $0108
    if (!cpu.negative_flag()) cpu.state_.pc = 0xBE5C;

    // BE54: LDD #$8040
    cpu.state_.d = 0x8040;

    // BE57: STD ,Y++
    cpu.write_memory(cpu.state_.y++, cpu.state_.d);

    // BE59: LDU $4AFA
    cpu.state_.u = cpu.read_memory_word(0x4AFA);

    // BE5C: CMPX #$4554
    cpu.compare_x(0x4554);

    // BE5F: BCS $00F6
    if (cpu.carry_flag()) cpu.state_.pc = 0xBE57;

    // BE61: LDD $C7C1
    cpu.state_.d = cpu.read_memory_word(0xC7C1);

    // BE64: STD ,Y++
    cpu.write_memory(cpu.state_.y++, cpu.state_.d);

    // BE66: LDD #$013C
    cpu.state_.d = 0x013C;

    // BE69: STD ,Y++
    cpu.write_memory(cpu.state_.y++, cpu.state_.d);

    // BE6B: LDA #$01
    cpu.state_.a = 0x01;

    // BE6D: STA <$AD
    cpu.write_memory(0xAD, cpu.state_.a);

    // BE6F: LDA $4588
    cpu.state_.a = cpu.read_memory(0x4588);

    // BE72: JSR $E7AD
    cpu.call_function(0xE7AD);

    // BE75: LDA $4589
    cpu.state_.a = cpu.read_memory(0x4589);

    // BE78: JSR $E7AD
    cpu.call_function(0xE7AD);

    // BE7B: LDD #$8040
    cpu.state_.d = 0x8040;

    // BE7E: STD ,Y++
    cpu.write_memory(cpu.state_.y++, cpu.state_.d);

    // BE80: LDX #$4548
    cpu.state_.x = 0x4548;

    // BE83: JSR $C6D4
    cpu.call_function(0xC6D4);

    // BE86: LDU #$4AFE
    cpu.state_.u = 0x4AFE;

    // BE89: LDX #$4542
    cpu.state_.x = 0x4542;

    // BE8C: JSR $C6D7
    cpu.call_function(0xC6D7);

    // BE8F: LDA $4AFC
    cpu.state_.a = cpu.read_memory(0x4AFC);

    // BE92: ADDA $4B00
    cpu.state_.a += 0x4B00;

    // BE96: STA $4AFC
    cpu.write_memory(0x4AFC, cpu.state_.a);

    // BE99: LDA $4AFB
    cpu.state_.a = cpu.read_memory(0x4AFB);

    // BE9C: ADCA $4AFF
    // TODO: Convert ADCA $4AFF

    // BEA0: STA $4AFB
    cpu.write_memory(0x4AFB, cpu.state_.a);

    // BEA3: LDA $4AFA
    cpu.state_.a = cpu.read_memory(0x4AFA);

    // BEA6: ADCA $4AFE
    // TODO: Convert ADCA $4AFE

    // BEAA: STA $4AFA
    cpu.write_memory(0x4AFA, cpu.state_.a);

    // BEAD: LDD $C7C3
    cpu.state_.d = cpu.read_memory_word(0xC7C3);

    // BEB0: STD ,Y++
    cpu.write_memory(cpu.state_.y++, cpu.state_.d);

    // BEB2: LDD #$0030
    cpu.state_.d = 0x0030;

    // BEB5: STD ,Y++
    cpu.write_memory(cpu.state_.y++, cpu.state_.d);

    // BEB7: LDB #$05
    cpu.state_.b = 0x05;

    // BEB9: STB <$AD
    cpu.write_memory(0xAD, cpu.state_.b);

    // BEBB: LDA $4AFA
    cpu.state_.a = cpu.read_memory(0x4AFA);

    // BEBE: JSR $E790
    cpu.call_function(0xE790);

    // BEC1: LDA $4AFB
    cpu.state_.a = cpu.read_memory(0x4AFB);

    // BEC4: JSR $E790
    cpu.call_function(0xE790);

    // BEC7: LDA $4AFC
    cpu.state_.a = cpu.read_memory(0x4AFC);

    // BECA: JSR $E790
    cpu.call_function(0xE790);

    // BECD: LDD #$8040
    cpu.state_.d = 0x8040;

    // BED0: STD ,Y++
    cpu.write_memory(cpu.state_.y++, cpu.state_.d);

    // BED2: LDX #$4554
    cpu.state_.x = 0x4554;

    // BED5: JSR $C6D4
    cpu.call_function(0xC6D4);

    // BED8: JSR $C087
    cpu.call_function(0xC087);

    // BEDB: LDD $C7C9
    cpu.state_.d = cpu.read_memory_word(0xC7C9);

    // BEDE: STD ,Y++
    cpu.write_memory(cpu.state_.y++, cpu.state_.d);

    // BEE0: LDD #$0030
    cpu.state_.d = 0x0030;

    // BEE3: STD ,Y++
    cpu.write_memory(cpu.state_.y++, cpu.state_.d);

    // BEE5: LDB #$07
    cpu.state_.b = 0x07;

    // BEE7: STB <$AD
    cpu.write_memory(0xAD, cpu.state_.b);

    // BEE9: LDA $4AFA
    cpu.state_.a = cpu.read_memory(0x4AFA);

    // BEEC: JSR $E790
    cpu.call_function(0xE790);

    // BEEF: LDA $4AFB
    cpu.state_.a = cpu.read_memory(0x4AFB);

    // BEF2: JSR $E790
    cpu.call_function(0xE790);

    // BEF5: LDA $4AFC
    cpu.state_.a = cpu.read_memory(0x4AFC);

    // BEF8: JSR $E790
    cpu.call_function(0xE790);

    // BEFB: LDA $4AFD
    cpu.state_.a = cpu.read_memory(0x4AFD);

    // BEFE: JSR $E790
    cpu.call_function(0xE790);

    // BF01: LDD #$8040
    cpu.state_.d = 0x8040;

    // BF04: STD ,Y++
    cpu.write_memory(cpu.state_.y++, cpu.state_.d);

    // BF06: LDX #$455C
    cpu.state_.x = 0x455C;

    // BF09: JSR $C6D4
    cpu.call_function(0xC6D4);

    // BF0C: JSR $C087
    cpu.call_function(0xC087);

    // BF0F: LDD $C7CB
    cpu.state_.d = cpu.read_memory_word(0xC7CB);

    // BF12: STD ,Y++
    cpu.write_memory(cpu.state_.y++, cpu.state_.d);

    // BF14: LDD #$0030
    cpu.state_.d = 0x0030;

    // BF17: STD ,Y++
    cpu.write_memory(cpu.state_.y++, cpu.state_.d);

    // BF19: LDB #$07
    cpu.state_.b = 0x07;

    // BF1B: STB <$AD
    cpu.write_memory(0xAD, cpu.state_.b);

    // BF1D: LDA $4AFA
    cpu.state_.a = cpu.read_memory(0x4AFA);

    // BF20: JSR $E790
    cpu.call_function(0xE790);

    // BF23: LDA $4AFB
    cpu.state_.a = cpu.read_memory(0x4AFB);

    // BF26: JSR $E790
    cpu.call_function(0xE790);

    // BF29: LDA $4AFC
    cpu.state_.a = cpu.read_memory(0x4AFC);

    // BF2C: JSR $E790
    cpu.call_function(0xE790);

    // BF2F: LDA $4AFD
    cpu.state_.a = cpu.read_memory(0x4AFD);

    // BF32: JSR $E790
    cpu.call_function(0xE790);

    // BF35: LDD #$8040
    cpu.state_.d = 0x8040;

    // BF38: STD ,Y++
    cpu.write_memory(cpu.state_.y++, cpu.state_.d);

    // BF3A: LDX #$454C
    cpu.state_.x = 0x454C;

    // BF3D: JSR $C6D4
    cpu.call_function(0xC6D4);

    // BF40: CLR $4AFA
    cpu.write_memory(0x4AFA, 0);

    // BF43: LDA >$0000
    cpu.state_.a = cpu.read_memory(0x0000);

}

} // namespace StarWars